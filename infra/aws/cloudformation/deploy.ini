[common]
# Templates to deploy once per region

# Templates to deploy by stage
[prod]
;templates/1_domain_route53.yaml

[cob]

[qa]

[qa2]

[qa3]

[dev]
; --- Layer 1: Foundation ---
templates/env-setup.yaml
templates/budget.yaml
templates/1-domain-route53.yaml

; --- Layer 2: Networking ---
templates/vpc.yaml
templates/security-groups.yaml

; --- Layer 3: Security ---
templates/secrets.yaml

; --- Layer 4: Storage ---
templates/s3.yaml
templates/s3-cloudformation.yaml
templates/dynamodb-documents.yaml
templates/dynamodb-cache-ai-query.yaml
templates/dynamodb-cache-language.yaml
templates/dynamodb-cache-translation.yaml
templates/s3-website-content.yaml
templates/s3-app-web.yaml
templates/sqs-documents.yaml
templates/sqs-application-errors.yaml
; rds.yaml - deployed separately, managed lifecycle via Step Functions
;templates/rds.yaml

; --- Layer 5: Compute ---
templates/lambda-layer-lenie-all.yaml
templates/lambda-layer-openai.yaml
templates/lambda-layer-psycopg2.yaml
templates/ec2-lenie.yaml
templates/lenie-launch-template.yaml
templates/lambda-rds-start.yaml
templates/lambda-weblink-put-into-sqs.yaml
templates/sqs-to-rds-lambda.yaml
templates/url-add.yaml

; --- Layer 6: API ---
templates/api-gw-infra.yaml
templates/api-gw-app.yaml
templates/api-gw-url-add.yaml

; --- Layer 7: Orchestration ---
templates/sqs-to-rds-step-function.yaml

; --- Layer 8: CDN ---
templates/cloudfront-app.yaml
templates/s3-helm.yaml
templates/cloudfront-helm.yaml

[test]

[feature]

[staging]
